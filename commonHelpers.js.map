{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["'use strict';\nconst refs = {\n  imageSearchForm: document.querySelector('.search-form'),\n  imageSearchInput: document.querySelector('.search-input'),\n  searchButton: document.querySelector('.search-btn'),\n  imageList: document.querySelector('.images-list'),\n};\n\nexport function renderImages(images) {\n  const markup = images.hits\n    .map(image => {\n      return `<li class=\"images-list-item\">\n  <a class=\"img-link\" href=${image.largeImageURL} onclick=\"event.preventDefault()\"><img class=\"img\" src=${image.webformatURL} alt=${image.tags}></img></a>\n   <ul class=\"img-dscr\">\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Likes</p>\n        <p class=\"img-data-numbers\">${image.likes}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Views</p>\n        <p class=\"img-data-numbers\">${image.views}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Comments</p>\n        <p class=\"img-data-numbers\">${image.comments}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Downloads</p>\n        <p class=\"img-data-numbers\">${image.downloads}</p>\n      </li>\n    </ul>\n</li>`;\n    })\n    .join('\\n');\n\n  refs.imageList.innerHTML = markup;\n}\n","'use strict';\n\nconst refs = {\n  imageSearchForm: document.querySelector('.search-form'),\n  imageSearchInput: document.querySelector('.search-input'),\n  searchButton: document.querySelector('.search-btn'),\n  imageList: document.querySelector('.images-list'),\n};\n\nexport function getImages(request) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const PARAMS = new URLSearchParams({\n    key: '44319460-4af2fb7eeaa8b0840083a4a49',\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: 1,\n    per_page: 30,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${PARAMS}`;\n  console.log(url);\n\n  return fetch(url).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw new Error(res.status);\n    }\n  });\n}\n","'use strict';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderImages } from './js/render-functions';\nimport { getImages } from './js/pixabay-api';\n\nconst refs = {\n  imageSearchForm: document.querySelector('.search-form'),\n  imageSearchInput: document.querySelector('.search-input'),\n  searchButton: document.querySelector('.search-btn'),\n  imageList: document.querySelector('.images-list'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.loader.style.display = 'none';\n\nrefs.imageSearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const request = e.target.elements.userData.value.trim();\n\n  if (request === '') {\n    refs.imageList.innerHTML = '';\n    return iziToast.info({\n      message: 'You need to enter a search request!',\n      position: 'topRight',\n      transitionIn: 'bounceInDown',\n      transitionOut: 'fadeOutDown',\n    });\n  }\n\n  refs.loader.style.display = 'block';\n\n  getImages(request)\n    .then(images => {\n      if (images.hits.length === 0) {\n        refs.imageList.innerHTML = '';\n        return iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          maxWidth: '322px',\n          backgroundColor: '#EF4040',\n          messageColor: '#fafafb',\n          transitionIn: 'bounceInDown',\n          transitionOut: 'fadeOutDown',\n        });\n      } else {\n        renderImages(images);\n\n        const lightbox = new SimpleLightbox('.images-list-item a', {\n          captions: true,\n          captionSelector: 'img',\n          captionType: 'attr',\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          captionDelay: 250,\n          animationSpeed: 300,\n          widthRatio: 1,\n          heightRatio: 0.95,\n          disableRightClick: true,\n        });\n        lightbox.refresh();\n      }\n    })\n    .catch(err => {\n      console.error('Error fetching images:', err);\n      iziToast.error({\n        message: 'Failed to fetch images. Please try again later.',\n        position: 'topRight',\n        transitionIn: 'bounceInDown',\n        transitionOut: 'fadeOutDown',\n      });\n    })\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n\n  e.target.reset();\n});\n"],"names":["refs","renderImages","images","markup","image","getImages","request","BASE_URL","END_POINT","PARAMS","url","res","e","iziToast","SimpleLightbox","err"],"mappings":"6vBACA,MAAMA,EAAO,CACX,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,CAClD,EAEO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EAAO,KACnB,IAAIE,GACI;AAAA,6BACgBA,EAAM,aAAa,0DAA0DA,EAAM,YAAY,QAAQA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,sCAIxGA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,MAIhD,EACA,KAAK;AAAA,CAAI,EAEZJ,EAAK,UAAU,UAAYG,CAC7B,CCjCmB,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EAC1C,SAAS,cAAc,aAAa,EACvC,SAAS,cAAc,cAAc,EAG3C,SAASE,EAAUC,EAAS,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EACd,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,eAAQ,IAAIC,CAAG,EAER,MAAMA,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEhC,CAAG,CACH,CCrBA,MAAMX,EAAO,CACX,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,gBAAgB,iBAAiB,SAAUY,GAAK,CACnDA,EAAE,eAAc,EAChB,MAAMN,EAAUM,EAAE,OAAO,SAAS,SAAS,MAAM,OAEjD,GAAIN,IAAY,GACd,OAAAN,EAAK,UAAU,UAAY,GACpBa,EAAS,KAAK,CACnB,QAAS,sCACT,SAAU,WACV,aAAc,eACd,cAAe,aACrB,CAAK,EAGHb,EAAK,OAAO,MAAM,QAAU,QAE5BK,EAAUC,CAAO,EACd,KAAKJ,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EACzB,OAAAF,EAAK,UAAU,UAAY,GACpBa,EAAS,MAAM,CACpB,QACE,2EACF,SAAU,WACV,SAAU,QACV,gBAAiB,UACjB,aAAc,UACd,aAAc,eACd,cAAe,aACzB,CAAS,EAEDZ,EAAaC,CAAM,EAEF,IAAIY,EAAe,sBAAuB,CACzD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EAC7B,CAAS,EACQ,QAAO,CAExB,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,EAC3CF,EAAS,MAAM,CACb,QAAS,kDACT,SAAU,WACV,aAAc,eACd,cAAe,aACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbb,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,EAEHY,EAAE,OAAO,OACX,CAAC"}